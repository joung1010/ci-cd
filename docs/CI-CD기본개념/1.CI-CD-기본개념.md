# CI/CD란

CI/CD란 Continuous Integration(지속적 통합), Continuous Deployment/Delivery(지속적 배포/전달)라는 의미를 가지고 있다. 말이 너무 어렵다. 쉽게 표현하자면 **CI/CD는 테스트(Test), 통합(Merge), 배포(Deploy)의 과정을 자동화하는 걸 의미**한다.

## CI와 CD의 구분

**CI (Continuous Integration - 지속적 통합)**
- 개발자들이 작성한 코드를 공유 저장소에 자주 통합하는 개발 관행
- 주요 목표: 코드 충돌 최소화, 품질 보장
- 핵심 활동: 자동 빌드, 테스트 실행, 코드 분석

**CD (Continuous Deployment/Delivery - 지속적 배포/전달)**
- **Continuous Delivery**: 프로덕션 배포 준비 상태까지 자동화 (수동 승인 후 배포)
- **Continuous Deployment**: 프로덕션까지 완전 자동 배포

## 왜 CI/CD를 사용하는가?

서비스를 운영하다보면 새로운 기능을 추가하는 일이 많아진다. 새로운 기능에 대한 코드를 작성한 뒤에 Commit을 찍는다. 그런 뒤에 메인 브랜치로 병합하고 배포를 한다. 배포를 할 때 직접 운영 서버(ex. AWS EC2)에 접속해서 새로운 코드를 다운받아 실행시켜주어야 한다.

이 과정을 코드의 수정이 일어날 때마다 반복하기란 너무 귀찮은 일이다. 그래서 **이런 반복적인 과정을 자동화시키기 위해 CI/CD를 배우는 것**이다.

## CI/CD 워크플로우

CI/CD 과정은 일반적으로 다음과 같은 상세한 과정으로 일어난다:

```bash
개발 → 커밋 → 빌드 → 테스트 → 코드분석 → 스테이징배포 → 승인 → 프로덕션배포
 |        |      |      |       |         |           |      |
 |        |      |      |       |         |           |      └─ 모니터링/롤백
 |        |      |      |       |         |           └─ 수동/자동 승인
 |        |      |      |       |         └─ 실제 환경과 유사한 테스트
 |        |      |      |       └─ 정적분석, 보안스캔, 코드커버리지
 |        |      |      └─ 단위/통합/E2E 테스트
 |        |      └─ 컴파일, 패키징, Docker 이미지 생성
 |        └─ 트리거 (Push, PR, 스케줄)
 └─ 피쳐 브랜치에서 작업
```

**각 단계별 상세 내용:**
- **개발**: 피쳐 브랜치에서 작업
- **커밋**: 트리거 (Push, PR, 스케줄)
- **빌드**: 컴파일, 패키징, Docker 이미지 생성
- **테스트**: 단위/통합/E2E 테스트
- **코드분석**: 정적분석, 보안스캔, 코드커버리지
- **스테이징배포**: 실제 환경과 유사한 테스트
- **승인**: 수동/자동 승인
- **프로덕션배포**: 모니터링/롤백

특정 기능을 개발 완료해서 Commit을 찍으면 빌드가 되게 셋팅한다. 빌드가 완료되면 작성한 테스트 코드를 실행시킨다.(테스트 코드를 작성하지 않은 서비스에서는 이 과정을 생략하기도 한다.) 그런 뒤 테스트가 통과하면 코드 품질 분석과 보안 검사를 거쳐 스테이징 환경에 배포된다. 최종 승인 후 실제 운영 서버에 최신 코드가 배포된다.

## 주요 CI/CD 도구들

### GitHub Actions (GitHub 기반)
- GitHub 저장소와 완벽 통합
- YAML 기반 워크플로우 정의
- 다양한 사전 구성된 액션 제공

### Jenkins (오픈소스)
- 가장 널리 사용되는 CI/CD 플랫폼
- 플러그인 생태계가 풍부함
- 자체 서버 구축 필요

### GitLab CI/CD (GitLab 통합)
- GitLab과 완벽 통합
- 러너(Runner) 기반 실행
- DevOps 전체 라이프사이클 지원

### AWS CodePipeline (AWS 클라우드)
- AWS 서비스와 네이티브 통합
- 확장성과 안정성 우수
- AWS 생태계에 최적화

### Azure DevOps (마이크로소프트)
- Azure 클라우드와 긴밀한 통합
- 통합 개발 환경 제공
- 하이브리드 클라우드 지원
